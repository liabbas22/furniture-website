var baselThemeModule;
! function($) {
    "use strict";
    baselThemeModule = function() {
        var baselTheme = {
            popupEffect: "mfp-move-horizontal",
            shopLoadMoreBtn: ".basel-products-load-more.load-on-scroll",
            supports_html5_storage: !1,
            ajaxLinks: ".basel-product-categories a, .basel-products-shop-view a, .widget_product_categories a, .widget_layered_nav_filters a, .filters-area a, .shopify-pagination a, .basel-shopify-layered-nav a, .widget_product_tag_cloud a"
        };
        try {
            baselTheme.supports_html5_storage = "sessionStorage" in window && null !== window.sessionStorage, window.sessionStorage.setItem("basel", "test"), window.sessionStorage.removeItem("basel")
        } catch (e) {
            baselTheme.supports_html5_storage = !1
        }
        return {
            init: function() {
                this.fixedHeaders(), this.verticalHeader(), this.splitNavHeader(), this.visibleElements(), this.bannersHover(), this.shopcarousel(), this.inscarousel(), this.instagram(), this.parallax(), this.googleMap(), this.scrollTop(), this.quickViewInit(), this.quickShop(), this.sidebarMenu(), this.AJAXAddToCart(), this.AJAXFormAddToCart(), this.productImages(), this.productImagesGallery(), this.stickyDetails(), this.mfpPopup(), this.swatchesOnGrid(), this.blogMasonry(), this.blogLoadMore(), this.productsLoadMore(), this.productsTabs(), this.productsGalaxyTabs(), this.equalizeColumns(), this.menuSetUp(), this.menuOffsets(), this.onePageMenu(), this.mobileNavigation(), this.simpleDropdown(), this.autoloadCompare(), this.wishList(), this.loginWishlist(), this.removeWishlist(), this.compare(), this.gl_save_note(), this.promoPopup(), this.cookiesPopup(), this.productVideo(), this.product360Button(), this.stickyFooter(), this.cartWidget(), this.ajaxFilters(), this.shopPageInit(), this.filtersArea(), this.categoriesMenu(), this.searchFullScreen(), this.loginTabs(), this.productAccordion(), this.productCompact(), this.countDownTimer(), this.mobileFastclick(), this.nanoScroller(), this.RTL(), this.AJAXRemoveFromCart(), this.shopifyQuantity(), $(window).resize(), $("body").addClass("document-ready")
            },
            init_zoom: function() {
                var e = $(".shopify-product-gallery__image"),
                    t = !1;
                wc_single_product_params.flexslider_enabled || (e = e.first()), $(e).each(function(e, a) {
                    if ($(a).find("img").attr("width") > $(".shopify-product-gallery").width()) return t = !0, !1
                }), t && (e.trigger("zoom.destroy"), e.zoom({
                    touch: !1,
                  magnify: 0.3
                }));
               
            },
            fixedHeaders: function() {
                var e = function() {
                        var e = s.outerHeight();
                        return a.hasClass("sticky-navigation-only") && (e = s.find(".navigation-wrap").outerHeight()), e
                    },
                    t = function() {
                        o.hasClass(n) || $(".header-spacing").height(e()).css("marginBottom", 40)
                    },
                    a = $("body"),
                    s = $(".main-header"),
                    o = s,
                    i = e(),
                    n = "act-scroll",
                    r = "",
                    l = 0,
                    c = s.find(".main-nav .menu>li>a");
                if (a.hasClass("enable-sticky-header") && !a.hasClass("global-header-vertical") && 0 != s.length) {
                    var d = ['<div class="sticky-header header-clone">', '<div class="container">', '<div class="site-logo">' + s.find(".site-logo").clone().html() + "</div>", '<div class="main-nav site-navigation basel-navigation">' + s.find(".main-nav").clone().html() + "</div>", '<div class="right-column">' + s.find(".right-column").clone().html() + "</div>", "</div>", "</div>"].join("");
                    if ($(".topbar-wrapp").length > 0 && (l = $(".topbar-wrapp").outerHeight()), a.hasClass("sticky-header-real")) {
                        var u = $("<div/>").addClass("header-spacing");
                        s.before(u), $(window).on("resize", t);
                        var p;
                        $(window).on("scroll", function(e) {
                            $(this).scrollTop() > l ? o.addClass(n) : (o.removeClass(n), clearTimeout(p), p = setTimeout(function() {
                                t()
                            }, 200))
                        })
                    } else a.hasClass("sticky-header-clone") && (s.before(d), o = $(".sticky-header"));
                    a.hasClass("basel-header-smooth") && $(window).on("scroll", function(e) {
                        var t = (120 - $(this).scrollTop()) / 2;
                        t >= 60 ? t = 60 : t <= 30 && (t = 30), c.css({
                            paddingTop: t,
                            paddingBottom: t
                        })
                    }), a.hasClass("basel-header-overlap") || a.hasClass("sticky-navigation-only"), !a.hasClass("basel-header-overlap") && a.hasClass("sticky-header-clone") && (s.attr("class").split(" ").forEach(function(e) {
                        -1 == e.indexOf("main-header") && -1 == e.indexOf("header-") && (r += " " + e)
                    }), o.addClass(r), $(window).on("scroll", function(e) {
                        $(this).scrollTop() > i + 30 ? o.addClass(n) : o.removeClass(n)
                    })), a.addClass("sticky-header-prepared")
                }
            },
            verticalHeader: function() {
                function e() {
                    1024 > (n = i.width()) && (f = g = !1, s.removeAttr("style"))
                }

                function t() {
                    var e = i.scrollTop();
                    1024 > n || (c = s.height(), p = c + s.offset().top, r = i.height(), l = o.height(), h = r + i.scrollTop(), m = v - e, (u = c - r) > 0 ? e > v ? (p > h && (w += m), w < -u && (g = !0, w = -u), f = !1) : e < v ? (s.offset().top < i.scrollTop() && (w += m), w >= 0 && (f = !0, w = 0), g = !1) : (p < h && (w = r - c), w >= 0 && (f = !0, w = 0)) : w = 0, s.css({
                        top: w
                    }), v = e)
                }

                function a() {
                    e(), t()
                }
                var s = $(".header-vertical").first();
                if (!(s.length < 1)) {
                    var o, i, n, r, l, c, d, u, p, h, m, f = !1,
                        g = !1,
                        v = 0,
                        w = 0;
                    o = $(document.body), i = $(window), o.is(".admin-bar") ? $("#wpadminbar").height() : 0, i.on("scroll", t).on("resize", function() {
                        clearTimeout(d), d = setTimeout(a, 500)
                    }), a();
                    for (var b = 1; b < 6; b++) setTimeout(a, 100 * b)
                }
            },
            splitNavHeader: function() {
                var e = $(".header-split");
                if (!(e.length <= 0)) {
                    var t, a = e.find(".main-nav"),
                        s = a.find(".menu > li"),
                        o = s.length,
                        i = $("body").hasClass("rtl"),
                        n = parseInt(o / 2 + .5 * i - .5),
                        r = s.eq(n),
                        l = e.find(".site-logo .basel-logo-wrap > a"),
                        c = 0,
                        d = i ? "marginLeft" : "marginRight",
                        u = 0,
                        p = function() {
                            t = l.outerWidth(), c = 5, u = 0;
                            for (var e = o - 1; e >= 0; e--) {
                                var p = s.eq(e).outerWidth();
                                e > n ? u += p : c += p
                            }
                            var h = c - u;
                            i ? c > u ? a.find(".menu > li:first-child").css("marginRight", -h) : a.find(".menu > li:last-child").css("marginLeft", h + 5) : c > u ? a.find(".menu > li:last-child").css("marginRight", h + 5) : a.find(".menu > li:first-child").css("marginLeft", -h), r.css(d, t)
                        };
                    l.imagesLoaded(function() {
                        p(), e.addClass("menu-calculated")
                    }), $(window).on("resize", p)
                }
            },
            counterShortcode: function(e) {
                "done" != e.attr("data-state") && e.text() == e.data("final") && e.prop("Counter", 0).animate({
                    Counter: e.text()
                }, {
                    duration: 3e3,
                    easing: "swing",
                    step: function(t) {
                        t >= e.data("final") && e.attr("data-state", "done"), e.text(Math.ceil(t))
                    }
                })
            },
            visibleElements: function() {
                $(".basel-counter .counter-value").each(function() {
                    $(this).waypoint(function() {
                        baselThemeModule.counterShortcode($(this))
                    }, {
                        offset: "100%"
                    })
                })
            },
            compare: function() {
                var e = $("body");
                $("a.compare");
                e.on("click", "a.compare", function() {
                    $(this).addClass("loading");
                    var t = $(this),
                        a = t.data("pid"),
                        s = $("#compare-content"),
                        o = Currency.cookie.tearead("tea-compare");
                    if ((o = null != o ? o.split(",") : new Array).indexOf(a) < 0 && !1 === $(this).hasClass("added")) {
                        o.push(a);
                        var i = o.join(",");
                        "," == i.substring(0, 1) && (i = i.substring(1)), Currency.cookie.teawrite("tea-compare", i)
                    }!1 === $(this).hasClass("added") || 0 === $.trim($("#compare-content").html()).length ? (s.html(" "), $.ajax({
                        url: "/pages/compare/" + o,
                        dataType: "html",
                        type: "GET",
                        success: function(e) {
                            s.html(e)
                        },
                        error: function(e) {
                            console.log("ajax error")
                        },
                        complete: function() {
                            t.removeClass("loading"), e.addClass("compare-opened"), $('[data-pid="' + a + '"]').addClass("added").html('<span class="basel-tooltip-label">' + theme.strings.added_label + "</span>" + theme.strings.added_label), baselThemeModule.gl_currency()
                        }
                    })) : (t.removeClass("loading"), e.addClass("compare-opened"), baselThemeModule.gl_currency()), $(".compare").colorbox({
                        inline: !0,
                        title: !1,
                        width: "90%",
                        height: "90%"
                    }), $(window).resize(function() {
                        $(".compare").colorbox.resize({
                            title: !1,
                            width: "90%",
                            height: "90%"
                        })
                    })
                }), e.on("click", "#cboxClose, #cboxOverlay", function() {
                    e.removeClass("compare-opened")
                }), e.bind("keydown.cbox_close", function(t) {
                    27 === t.keyCode && (t.preventDefault(), e.removeClass("compare-opened"))
                }), e.on("click", "#compare-content .product-remove", function(e) {
                    e.preventDefault();
                    var t = $(this).attr("data-rev"),
                        a = $("#compare-content");
                    $('[data-pid="' + t + '"]').removeClass("added").html('<span class="basel-tooltip-label">' + theme.strings.compare + "</span>" + theme.strings.compare);
                    var s = decodeURI(Currency.cookie.tearead("tea-compare"));
                    null != s && (s = s.split(",")), s = jQuery.grep(s, function(e) {
                        return e != t
                    }), s = $.trim(s), Currency.cookie.teawrite("tea-compare", s), $(".gl_" + t).remove(), 0 === s.length && a.find("tbody").html('<tr class="no-products odd"><td>' + theme.strings.no_compare + "</td></tr>")
                })
            },
            promoPopup: function() {
                if (!("yes" != theme.basel_settings.enable_popup || "yes" == theme.basel_settings.promo_popup_hide_mobile && $(window).width() < 768)) {
                    console.log("init popup");
                    $(".nathan-promo-popup");
                    var e = !1,
                        t = $.cookie("basel_shown_pages");
                    if (t || (t = 0), t < theme.basel_settings.popup_pages) return t++, $.cookie("basel_shown_pages", t, {
                        expires: 7,
                        path: "/"
                    }), !1;
                    var a = function() {
                        $(".nathan-promo-popup").length > 0 && $.magnificPopup.open({
                            items: {
                                src: ".nathan-promo-popup"
                            },
                            type: "inline",
                            removalDelay: 400,
                            callbacks: {
                                beforeOpen: function() {
                                    this.st.mainClass = "basel-popup-effect"
                                },
                                open: function() {},
                                close: function() {
                                    $.cookie("basel_popup", "shown", {
                                        expires: 7,
                                        path: "/"
                                    })
                                }
                            }
                        })
                    };
                    "shown" != $.cookie("basel_popup") && ("scroll" == theme.basel_settings.popup_event ? $(window).scroll(function() {
                        if (e) return !1;
                        $(document).scrollTop() >= theme.basel_settings.popup_scroll && (a(), e = !0)
                    }) : setTimeout(function() {
                        a()
                    }, theme.basel_settings.popup_delay)), $(".basel-open-popup").on("click", function() {
                        a()
                    })
                }
            },
            productVideo: function() {
                $(".product-video-button a").magnificPopup({
                    type: "iframe",
                    mainClass: "mfp-fade",
                    removalDelay: 160,
                    preloader: !1,
                    disableOn: !1,
                    fixedContentPos: !1
                })
            },
            product360Button: function() {
                $(".product-360-button a").magnificPopup({
                    type: "inline",
                    mainClass: "mfp-fade",
                    removalDelay: 160,
                    disableOn: !1,
                    preloader: !1,
                    fixedContentPos: !1,
                    callbacks: {
                        open: function() {
                            $(window).resize()
                        }
                    }
                })
            },
            cookiesPopup: function() {
                if (!("accepted" == $.cookie("basel_cookies") || $(".basel-cookies-popup").length < 1)) {
                    var e = $(".basel-cookies-popup");
                    setTimeout(function() {
                        e.addClass("popup-display"), e.on("click", ".cookies-accept-btn", function(e) {
                            e.preventDefault(), t()
                        })
                    }, 2500);
                    var t = function() {
                        e.removeClass("popup-display").addClass("popup-hide"), $.cookie("basel_cookies", "accepted", {
                            expires: 60,
                            path: "/"
                        })
                    }
                }
            },
            googleMap: function() {
                var e = $(".google-map-container-with-content");
                $(window).resize(function() {
                    e.css({
                        height: e.find(".basel-google-map.with-content").outerHeight()
                    })
                })
            },
            menuSetUp: function() {
                var e = $(".basel-navigation").find("ul.menu"),
                    t = "item-menu-opened";
                e.find(" > li").has(".sub-menu-dropdown").addClass("menu-item-has-children"), e.on("click", " > .item-event-click.menu-item-has-children > a", function(e) {
                    e.preventDefault(), $(this).parent().hasClass(t) || $("." + t).removeClass(t), $(this).parent().toggleClass(t)
                }), $(document).click(function(a) {
                    var s = a.target;
                    if ($("." + t).length > 0 && !$(s).is(".item-event-hover") && !$(s).parents().is(".item-event-hover") && !$(s).parents().is("." + t)) return e.find("." + t).removeClass(t), !1
                });
                $(window).on("resize", function() {
                    $(window).width() <= 1024 ? e.find(" > .item-event-hover").each(function() {
                        $(this).data("original-event", "hover").removeClass("item-event-hover").addClass("item-event-click")
                    }) : e.find(" > .item-event-click").each(function() {
                        "hover" == $(this).data("original-event") && $(this).removeClass("item-event-click").addClass("item-event-hover")
                    })
                })
            },
            menuOffsets: function() {
                var e = $(window),
                    t = $(".main-header"),
                    a = $(".main-nav").find("ul.menu"),
                    s = a.find(" > li.menu-item-design-sized");
                a.on("hover", " > li", function(e) {
                    o($(this))
                });
                var o = function(a) {
                    var s = a.find(" > .sub-menu-dropdown"),
                        o = $(".website-wrapper");
                    s.attr("style", "");
                    var i = s.outerWidth(),
                        n = s.offset(),
                        r = e.width(),
                        l = o.outerWidth() + o.offset().left,
                        c = $("body").hasClass("wrapper-boxed") || $("body").hasClass("wrapper-boxed-small") ? l : r;
                    if (i && n) {
                        if ($("body").hasClass("rtl") && n.left <= 0 && a.hasClass("menu-item-design-sized") && !t.hasClass("header-vertical")) {
                            var d = -n.left;
                            s.css({
                                right: -d - 10
                            });
                            a.attr("class").split(" ").join("."), a.width()
                        } else if (n.left + i >= c && a.hasClass("menu-item-design-sized") && !t.hasClass("header-vertical")) {
                            var u = n.left + i - c;
                            s.css({
                                left: -u - 10
                            });
                            a.attr("class").split(" ").join("."), a.width()
                        }
                        if (t.hasClass("header-vertical")) {
                            var p = s.offset().top + s.outerHeight(),
                                h = e.scrollTop() + e.outerHeight();
                            p > h && s.css({
                                top: h - p - 10
                            })
                        }
                    }
                };
                s.each(function() {
                    o($(this)), $(this).addClass("with-offsets")
                })
            },
            onePageMenu: function() {
                var e = function(e) {
                        var a = $(".vc_row#" + e);
                        if (!(a.length < 1)) {
                            var s = a.offset().top;
                            $("html, body").stop().animate({
                                scrollTop: s - 150
                            }, 800, function() {
                                t(e)
                            })
                        }
                    },
                    t = function(e) {
                        var t;
                        $(".onepage-link").each(function() {
                            (t = $(this).find("> a").attr("href").split("#")[1]) == e && ($(".onepage-link").removeClass("current-menu-item"), $(this).addClass("current-menu-item"))
                        })
                    };
                if ($("body").on("click", ".onepage-link > a", function(t) {
                        var a = $(this).attr("href").split("#")[1];
                        $(".vc_row#" + a).length < 1 || (t.preventDefault(), e(a), $(".basel-close-side").trigger("click"))
                    }), $(".onepage-link").length > 0) {
                    $(".entry-content > .vc_row").waypoint(function() {
                        var e = $(this).attr("id");
                        t(e)
                    }, {
                        offset: 0
                    }), $(".onepage-link").removeClass("current-menu-item");
                    var a = window.location.hash.split("#")[1];
                    window.location.hash.length > 1 && setTimeout(function() {
                        e(a)
                    }, 500)
                }
            },
            mobileNavigation: function() {
                function e() {
                    a.addClass("act-mobile-menu"), o.addClass("left-wrapp")
                }

                function t() {
                    a.removeClass("act-mobile-menu"), o.removeClass("left-wrapp")
                }
                var a = $("body"),
                    s = $(".mobile-nav"),
                    o = $(".website-wrapper"),
                    i = $(".mobile-nav .site-mobile-menu .menu-item-has-children");
                $(".icon-sub-menu");
                i.append('<span class="icon-sub-menu"></span>'), s.on("click", ".icon-sub-menu", function(e) {
                    e.preventDefault();
                    $(this).closest("li");
                    $(this).parent().hasClass("opener-page") ? ($(this).parent().removeClass("opener-page").find("> ul").slideUp(200), $(this).parent().removeClass("opener-page").find("> .sub-menu-dropdown >.container > ul").slideUp(200), $(this).parent().find("> .icon-sub-menu").removeClass("up-icon")) : ($(this).parent().addClass("opener-page").find("> ul").slideDown(200), $(this).parent().addClass("opener-page").find(">.sub-menu-dropdown >.container > ul").slideDown(200), $(this).parent().find("> .icon-sub-menu").addClass("up-icon"))
                }), a.on("click", ".mobile-nav-icon", function() {
                    a.hasClass("act-mobile-menu") ? t() : e()
                }), a.on("click touchstart", ".basel-close-side", function() {
                    t()
                })
            },
            simpleDropdown: function() {
                $(".input-dropdown-inner").each(function() {
                    function e() {
                        a.addClass("dd-shown"), i.slideDown(100)
                    }

                    function t() {
                        a.removeClass("dd-shown"), i.slideUp(100)
                    }
                    var a = $(this),
                        s = a.find("> a"),
                        o = a.find("> input"),
                        i = a.find("> ul");
                    $(document).click(function(e) {
                        var s = e.target;
                        if (a.hasClass("dd-shown") && !$(s).is(".input-dropdown-inner") && !$(s).parents().is(".input-dropdown-inner")) return t(), !1
                    }), s.on("click", function(s) {
                        return s.preventDefault(), a.hasClass("dd-shown") ? t() : ($(".input-dropdown-inner.dd-shown > ul").slideUp(100), $(".input-dropdown-inner.dd-shown").removeClass("dd-shown"), e()), !1
                    }), i.on("click", "a", function(e) {
                        e.preventDefault();
                        var a = $(this).data("val"),
                            n = $(this).text();
                        i.find(".current-item").removeClass("current-item"), $(this).parent().addClass("current-item"), 0 != a ? i.find("li:first-child").show() : 0 == a && i.find("li:first-child").hide(), s.text(n), o.val(a), t()
                    })
                })
            },
            equalizeColumns: function() {
                $.fn.basel_equlize = function(e) {
                    var t = $.extend({
                            child: ""
                        }, e),
                        a = this;
                    "" != t.child && (a = this.find(t.child));
                    var s = function() {
                        var e = 0;
                        a.each(function() {
                            $(this).attr("style", ""), $(window).width() > 767 && $(this).outerHeight() > e && (e = $(this).outerHeight())
                        }), a.each(function() {
                            $(this).css({
                                minHeight: e
                            })
                        })
                    };
                    $(window).bind("resize", function() {
                        s()
                    }), setTimeout(function() {
                        s()
                    }, 200), setTimeout(function() {
                        s()
                    }, 500), setTimeout(function() {
                        s()
                    }, 800)
                }, $(".equal-columns").each(function() {
                    $(this).basel_equlize({
                        child: "> [class*=col-]"
                    })
                })
            },
            blogMasonry: function() {
                if (void 0 !== $.fn.isotope && void 0 !== $.fn.imagesLoaded) {
                    var e = $(".masonry-container");
                    e.imagesLoaded(function() {
                        e.isotope({
                            gutter: 0,
                            isOriginLeft: !$("body").hasClass("rtl"),
                            itemSelector: ".blog-design-masonry, .blog-design-mask, .masonry-item"
                        })
                    }), $(".masonry-filter").on("click", "a", function(t) {
                        t.preventDefault(), $(".masonry-filter").find(".filter-active").removeClass("filter-active"), $(this).addClass("filter-active");
                        var a = $(this).attr("data-filter");
                        e.isotope({
                            filter: a
                        })
                    })
                }
            },
            blogLoadMore: function() {
                $(".basel-blog-load-more").on("click", function(e) {
                    e.preventDefault();
                    var t = $(this),
                        a = t.parent().siblings(".basel-blog-holder"),
                        s = $(this).attr("href");
                    t.addClass("loading"), $.ajax({
                        url: s,
                        dataType: "html",
                        type: "GET",
                        success: function(e) {
                            var s = (e = jQuery(e)).find("#tea_data_blog").html(),
                                o = e.find("#tea_data_arrow").attr("data-status"),
                                i = e.find("#tea_section_next").attr("href"),
                                n = $(s);
                            a.hasClass("masonry-container") ? (a.append(n).isotope("appended", n), a.imagesLoaded().progress(function() {
                                a.isotope("layout")
                            })) : a.append(s), "have-posts" == o ? t.attr("href", i) : t.hide()
                        },
                        error: function(e) {
                            console.log("ajax error")
                        },
                        complete: function() {
                            t.removeClass("loading")
                        }
                    })
                })
            },
            productsLoadMore: function() {
                var e, t = !1;
                $(".basel-products-element").each(function() {
                    function s() {
                        m = $(window).height() / 2, f = $(window).outerWidth(!0) + 17, p = o.outerWidth(!0) + 10, n = $(window).scrollTop(), r = o.offset().top - m, l = o.offset().left - _, c = l + p + _, h = b.outerHeight(), u = o.height() - 50 - h, d = r + u, (f <= 1047 && f >= 992 || f <= 825 && f >= 768) && (l += 18, c -= 18), (f < 768 || v.hasClass("wrapper-boxed") || v.hasClass("wrapper-boxed-small") || $(".main-header").hasClass("header-vertical")) && (l += 51, c -= 51), b.css({
                            left: l + "px"
                        }), y.css({
                            left: c + "px"
                        }), n < r || n > d ? (w.removeClass("show-arrow"), C.addClass("hidden-loader")) : (w.addClass("show-arrow"), C.removeClass("hidden-loader"))
                    }
                    var o = $(this),
                        i = o.find(".basel-products-holder");
                    if (i.hasClass("pagination-arrows") || i.hasClass("pagination-more-btn")) {
                        o.on("recalc", function() {
                            g()
                        }), i.hasClass("pagination-arrows") && $(window).resize(function() {
                            g()
                        });
                        var n, r, l, c, d, u, p, h, m, f, g = function() {
                                var e = i.outerHeight();
                                o.stop().css({
                                    height: e
                                })
                            },
                            v = $("body"),
                            w = o.find(".products-footer"),
                            b = w.find(".basel-products-load-prev"),
                            y = w.find(".basel-products-load-next"),
                            C = o.find(".basel-products-loader"),
                            _ = 50;
                        v.hasClass("rtl") && (b = y, y = w.find(".basel-products-load-prev")), $(window).scroll(function() {
                            s()
                        }), o.find(".basel-products-load-prev, .basel-products-load-next").on("click", function(s) {
                            if (s.preventDefault(), !t) {
                                t = !0, clearInterval(e);
                                var o = $(this),
                                    i = o.parent().siblings(".basel-products-holder"),
                                    n = o.parent().find(".basel-products-load-next"),
                                    r = o.parent().find(".basel-products-load-prev"),
                                    l = $(this).attr("href");
                                a(i, l, o, function(t) {
                                    var a = (t = jQuery(t)).find("#tea_data_products").html(),
                                        s = t.find("#tea_section_previous").attr("href"),
                                        o = t.find("#tea_section_previous").attr("class"),
                                        l = t.find("#tea_section_next").attr("href"),
                                        c = t.find("#tea_section_next").attr("class");
                                    i.addClass("basel-animated-products").html(a), r.attr({
                                        href: s,
                                        class: o
                                    }), n.attr({
                                        href: l,
                                        class: c
                                    }), i.imagesLoaded().progress(function() {
                                        i.parent().trigger("recalc")
                                    }), $(window).width() < 768 && $("html, body").stop().animate({
                                        scrollTop: i.offset().top - 150
                                    }, 400);
                                    var d = 0;
                                    e = setInterval(function() {
                                        i.find(".product-grid-item").eq(d).addClass("basel-animated"), d++
                                    }, 100)
                                })
                            }
                        })
                    }
                }), baselThemeModule.clickOnScrollButton(baselTheme.shopLoadMoreBtn, !1), $(document).off("click", ".basel-products-load-more").on("click", ".basel-products-load-more", function(e) {
                    if (e.preventDefault(), !t) {
                        t = !0;
                        var o = $(this),
                            i = o.parent().siblings(".basel-products-holder"),
                            n = $(this).attr("href");
                        a(i, n, o, function(e) {
                            var t = (e = jQuery(e)).find("#tea_data_products").html(),
                                a = e.find("#tea_data_arrow").attr("data-status"),
                                n = e.find("#tea_section_next").attr("href");
                            i.hasClass("grid-masonry") ? s(i, t) : i.append(t), i.imagesLoaded().progress(function() {
                                baselThemeModule.clickOnScrollButton(baselTheme.shopLoadMoreBtn, !0)
                            }), "have-posts" == a ? o.attr("href", n) : o.hide().remove()
                        })
                    }
                });
                var a = function(e, a, s, o) {
                        e.addClass("loading").parent().addClass("element-loading"), s.addClass("loading"), $.ajax({
                            dataType: "html",
                            type: "GET",
                            url: a,
                            success: function(e) {
                                o(e)
                            },
                            error: function(e) {
                                console.log("ajax error")
                            },
                            complete: function() {
                                baselThemeModule.countDownTimer(), baselThemeModule.gl_productreviews(), baselThemeModule.autoloadCompare(), e.removeClass("loading").parent().removeClass("element-loading"), s.removeClass("loading"), baselThemeModule.gl_currency(), t = !1
                            }
                        })
                    },
                    s = function(e, t) {
                        var t = $(t);
                        e.append(t).isotope("appended", t), e.isotope("layout"), setTimeout(function() {
                            e.isotope("layout")
                        }, 100), e.imagesLoaded().progress(function() {
                            e.isotope("layout")
                        })
                    }
            },
            clickOnScrollButton: function(e, t) {
                if ("function" == typeof $.waypoints) {
                    var a = $(e);
                    t && a.waypoint("destroy"), a.waypoint(function() {
                        a.trigger("click")
                    }, {
                        offset: "100%"
                    })
                }
            },
            productsGalaxyTabs: function() {
                $("body").on("click", "ul.gl_tta-tabs-list li a, ul.tabs li a", function(e) {
                    e.preventDefault();
                    var t = $(this),
                        a = t.closest(".tab-collection, .shopify-tabs");
                    a.find("ul.gl_tta-tabs-list, ul.tabs").find("li").removeClass("gl_active"), a.find(".gl_tta-panel, .panel:not(.panel .panel)").removeClass("gl_active"), t.closest("li").addClass("gl_active"), a.find(t.attr("href")).addClass("gl_active")
                })
            },
            productsTabs: function() {
                $(".basel-products-tabs").each(function() {
                    var t = $(this),
                        a = t.find(".basel-tab-content"),
                        s = [];
                    t.find(".products-tabs-title li").on("click", function(t) {
                        t.preventDefault();
                        var o = $(this),
                            i = o.data("atts"),
                            n = o.index();
                        e(i, n, a, o, s, function(e) {
                            a.html(e), baselThemeModule.shopMasonry(), baselThemeModule.productsLoadMore()
                        })
                    });
                    var o = t.find(".tabs-navigation-wrapper"),
                        i = o.find("ul");
                    o.on("click", ".open-title-menu", function() {
                        var e = $(this);
                        i.hasClass("list-shown") ? (e.removeClass("toggle-active"), i.removeClass("list-shown")) : (e.addClass("toggle-active"), i.addClass("list-shown"), setTimeout(function() {
                            $("body").one("click", function(t) {
                                var a = t.target;
                                if (!$(a).is(".tabs-navigation-wrapper") && !$(a).parents().is(".tabs-navigation-wrapper")) return e.removeClass("toggle-active"), i.removeClass("list-shown"), !1
                            })
                        }, 10))
                    }).on("click", "li", function() {
                        var e = o.find(".open-title-menu"),
                            t = $(this).text();
                        i.hasClass("list-shown") && (e.removeClass("toggle-active").text(t), i.removeClass("list-shown"))
                    })
                });
                var e = function(e, t, a, s, o, i) {
                    s.parent().find(".active-tab-title").removeClass("active-tab-title"), s.addClass("active-tab-title"), a.addClass("loading").parent().addClass("element-loading"), s.addClass("loading"), $.ajax({
                        dataType: "html",
                        type: "GET",
                        url: e,
                        success: function(e) {
                            i(e)
                        },
                        error: function(e) {
                            console.log("ajax error")
                        },
                        complete: function() {
                            a.removeClass("loading").parent().removeClass("element-loading"), s.removeClass("loading"), baselThemeModule.compare()
                        }
                    })
                }
            },
            shopMasonry: function() {
                if (void 0 !== $.fn.isotope && void 0 !== $.fn.imagesLoaded) {
                    var e = $(".elements-grid.grid-masonry");
                    e.imagesLoaded(function() {
                        e.isotope({
                            isOriginLeft: !$("body").hasClass("rtl"),
                            itemSelector: ".category-grid-item, .product-grid-item"
                        })
                    }), $(window).resize(function() {
                        var e = $(".categories-masonry"),
                            t = e.hasClass("categories-style-masonry") ? ".category-grid-item" : ".col-md-3.category-grid-item";
                        e.imagesLoaded(function() {
                            e.isotope({
                                resizable: !1,
                                isOriginLeft: !$("body").hasClass("rtl"),
                                layoutMode: "packery",
                                packery: {
                                    gutter: 0,
                                    columnWidth: t
                                },
                                itemSelector: ".category-grid-item"
                            })
                        })
                    })
                }
            },
            collectionMasonry: function() {
                if (void 0 !== $.fn.isotope && void 0 !== $.fn.imagesLoaded) {
                    var e = $(".elements-grid.grid-masonry");
                    e.imagesLoaded(function() {
                        e.isotope({
                            isOriginLeft: !$("body").hasClass("rtl"),
                            itemSelector: ".category-grid-item, .product-grid-item",
                            layoutMode: "fitRows"
                        })
                    })
                }
            },
            shopcarousel: function() {
                void 0 !== $.fn.owlCarousel && void 0 !== $.fn.imagesLoaded && $(".gl_carousel_data").each(function(e) {
                    var t = $(this).data("items"),
                        a = $(this).data("nav"),
                        s = $(this).data("dots"),
                        o = ($(this).data("medium"), $(this).data("time")),
                        i = $(this).data("loop"),
                        n = $(this).data("autoplay"),
                        r = {
                            rtl: $("body").hasClass("rtl"),
                            items: t,
                            responsive: {
                                979: {
                                    items: t
                                },
                                768: {
                                    items: 3
                                },
                                479: {
                                    items: 3
                                },
                                0: {
                                    items: 1
                                }
                            },
                            autoplay: n,
                            autoplayTimeout: o,
                            dots: s,
                            nav: a,
                            autoheight: !0,
                            slideBy: "page",
                            navText: !1,
                            loop: i,
                            onRefreshed: function() {
                                $(window).resize()
                            }
                        };
                    $(this).owlCarousel(r)
                })
            },
            instagram: function() {
              $(".gl_instagram").each(function (index) {
                var user_name = $(this).data('username'),
                     limit = $(this).data('limit'),
                     target = $(this).data('target'),
                     img_size = $(this).data('size'),
                     ul_ins = $(this).find(".instagram-pics");
                    $.ajax({
                      url: 'https://api.teathemes.net/instagram?username='+user_name,
                      dataType: 'json',
                      type: 'GET',
                      success: function(responsive) {
                        //console.log(responsive);
                        var html = '',
                            img_url = null,
                            data = responsive.entry_data.ProfilePage[0].user.media.nodes;
                        $.each(data,function(index,element){
                          if(index >= limit ) return 0;
                          if (img_size === 's150x150' ) {
                            img_url = element.thumbnail_resources[0].src;
                          }
                          else if (img_size === 's480x480'){
                            img_url = element.thumbnail_resources[3].src;
                          }else {
                             img_url = element.thumbnail_resources[4].src;
                          }
                          html += '<li><a href="//instagram.com/p/'+element.code+'" target="'+target+'"></a><div class="wrapp-pics"><img src="'+img_url+'" alt="'+user_name+'"><div class="hover-mask"></div></div></li>';
                        
                        });
                        ul_ins.html(html);
                      },
                      error: function(data) {
                        console.log('ajax error');
                      },
                      complete: function() {
                        baselThemeModule.inscarousel();
                      }
                    }); 
              });
            },
            inscarousel: function() {
                void 0 !== $.fn.owlCarousel && void 0 !== $.fn.imagesLoaded && $(".ins-owl-carousel").each(function(e) {
                    var t = $(this).data("items"),
                        a = $(this).data("nav"),
                        s = $(this).data("dots"),
                        o = $(this).data("medium"),
                        i = $(this).data("small"),
                        n = $(this).data("exsmall"),
                        r = $(this).data("time"),
                        l = $(this).data("loop"),
                        c = $(this).data("autoplay"),
                        d = {
                            rtl: $("body").hasClass("rtl"),
                            items: t,
                            responsive: {
                                979: {
                                    items: t
                                },
                                768: {
                                    items: o
                                },
                                479: {
                                    items: i
                                },
                                0: {
                                    items: n
                                }
                            },
                            autoplay: c,
                            autoplayTimeout: r,
                            dots: s,
                            nav: a,
                            autoheight: !0,
                            slideBy: "page",
                            navText: !1,
                            loop: l,
                            onRefreshed: function() {
                                $(window).resize()
                            }
                        };
                    $(this).owlCarousel(d)
                })
            },
            sidebarMenu: function() {
                var e = $(".widget_nav_mega_menu").height(),
                    t = $(".categories-menu-dropdown").height(),
                    a = $(".widget_nav_mega_menu ul > li.menu-item-design-sized > .sub-menu-dropdown, .widget_nav_mega_menu ul > li.menu-item-design-full-width > .sub-menu-dropdown"),
                    s = $(".categories-menu-dropdown ul > li.menu-item-design-sized > .sub-menu-dropdown, .categories-menu-dropdown ul > li.menu-item-design-full-width > .sub-menu-dropdown");
                a.css("min-height", e + "px"), s.css("min-height", t + "px")
            },
            productImages: function() {
                var e, t = $(".shopify-product-gallery"),
                    a = $(".shopify-product-gallery__wrapper"),
                    s = t.find(".thumbnails"),
                    o = $(".photoswipe-images"),
                    i = ".basel-show-product-gallery";
                s.addClass("thumbnails-ready"), t.hasClass("image-action-popup") && (i += ", .shopify-product-gallery__image a"), t.on("click", ".shopify-product-gallery__image a", function(e) {
                    e.preventDefault()
                }), t.on("click", i, function(t) {
                    t.preventDefault(), e = $(this).attr("href");
                    var a = l();
                    n(r(t), a)
                }), s.on("click", ".image-link", function(e) {
                    e.preventDefault()
                }), o.each(function() {
                    var e = $(this);
                    e.on("click", "a", function(t) {
                        t.preventDefault();
                        var a = $(t.currentTarget).data("index") - 1,
                            s = c(e, []);
                        n(a, s)
                    })
                });
                var n = function(e, t) {
                        var a = document.querySelectorAll(".pswp")[0];
                        $("body").hasClass("rtl") && (e = t.length - e - 1, t = t.reverse());
                        var s = {
                            index: e,
                            getThumbBoundsFn: function(e) {}
                        };
                        new PhotoSwipe(a, PhotoSwipeUI_Default, t, s).init()
                    },
                    r = function(e) {
                        return a.hasClass("owl-carousel") ? a.find(".owl-item.active").index() : $(e.currentTarget).parent().index()
                    },
                    l = function() {
                        var e = [];
                        return a.find("figure a img").each(function() {
                            var t = $(this).data("large_image"),
                                a = $(this).data("large_image_width"),
                                s = $(this).data("large_image_height"),
                                o = $(this).attr("title");
                            e.push({
                                src: t,
                                w: a,
                                h: s,
                                title: "yes" == theme.product_images_captions && o
                            })
                        }), e
                    },
                    c = function(e, t) {
                        var a, s, o, i;
                        return e.find("a").each(function() {
                            a = $(this).attr("href"), s = $(this).data("width"), o = $(this).data("height"), i = $(this).attr("title"), d(t, a) || t.push({
                                src: a,
                                w: s,
                                h: o,
                                title: i
                            })
                        }), console.log(t), t
                    },
                    d = function(e, t) {
                        var a;
                        for (a = 0; a < e.length; a++)
                            if (e[a].src == t) return !0;
                        return !1
                    };
                if (t.hasClass("image-action-zoom")) {
                    var u = $(".shopify-product-gallery__image");
                    u.find("img").attr("width") > $(".shopify-product-gallery").width() && (u.trigger("zoom.destroy"), u.zoom({
                        touch: !1,
                      magnify: 1
                    }));
                //  alert(); 
                }
            },
            productImagesGallery: function() {
                $(".shopify-product-gallery__image:eq(0) img");
                var e, t = $(".images .thumbnails");
                theme.product_gallery.images_slider && ($(".shopify-product-gallery__wrapper").addClass("owl-carousel").owlCarousel({
                    rtl: $("body").hasClass("rtl"),
                    items: 1,
                    autoplay: !1,
                    dots: !1,
                    nav: !1,
                    autoheight: !0,
                    navText: !1,
                    loop: !1,
                    onRefreshed: function() {
                        $(window).resize()
                    }
                }), e = $(".shopify-product-gallery__wrapper").owlCarousel()), theme.product_gallery.thumbs_slider.enabled && theme.product_gallery.images_slider && (function() {
                    var e = "";
                    $(".shopify-product-gallery__image").each(function() {
                        void 0 != $(this).data("variant_id") && void 0 != $(this).data("lenght") ? e += '<img data-variant_id="' + $(this).data("variant_id") + '" data-lenght="' + $(this).data("lenght") + '" data-one="' + $(this).data("one") + '" data-two="' + $(this).data("two") + '" data-three="' + $(this).data("three") + '" src="' + $(this).data("thumb") + '" alt="' + $(this).data("alt") + '" data-image-id="' + $(this).data("id") + '"  />' : e += '<img src="' + $(this).data("thumb") + '" alt="' + $(this).data("alt") + '" data-image-id="' + $(this).data("id") + '"  />'
                    }), t.append(e)
                }(), "left" == theme.product_gallery.thumbs_slider.position && jQuery(window).width() > 991 ? (t.slick({
                    slidesToShow: theme.product_gallery.thumbs_slider.items.vertical_items,
                    slidesToScroll: theme.product_gallery.thumbs_slider.items.vertical_items,
                    vertical: !0,
                    verticalSwiping: !0,
                    infinite: !1
                }), t.on("click", "img", function(t) {
                    var a = $(this).index();
                    console.log(a), e.trigger("to.owl.carousel", a)
                }), e.on("changed.owl.carousel", function(e) {
                    var a = e.item.index;
                    t.slick("slickGoTo", a), t.find(".active-thumb").removeClass("active-thumb"), t.find("img").eq(a).addClass("active-thumb")
                }), t.find("img").eq(0).addClass("active-thumb")) : function() {
                    t.addClass("owl-carousel").owlCarousel({
                        rtl: $("body").hasClass("rtl"),
                        items: theme.product_gallery.thumbs_slider.items.desktop,
                        responsive: {
                            979: {
                                items: theme.product_gallery.thumbs_slider.items.desktop
                            },
                            768: {
                                items: theme.product_gallery.thumbs_slider.items.desktop_small
                            },
                            479: {
                                items: theme.product_gallery.thumbs_slider.items.tablet
                            },
                            0: {
                                items: theme.product_gallery.thumbs_slider.items.mobile
                            }
                        },
                        dots: !1,
                        nav: !0,
                        navText: !1
                    });
                    var a = t.owlCarousel();
                    t.on("click", ".owl-item", function(t) {
                        var s = $(this).index();
                        a.trigger("to.owl.carousel", s), e.trigger("to.owl.carousel", s)
                    }), e.on("changed.owl.carousel", function(e) {
                        var s = e.item.index;
                        a.trigger("to.owl.carousel", s), t.find(".active-thumb").removeClass("active-thumb"), t.find(".owl-item").eq(s).addClass("active-thumb")
                    }), t.find(".owl-item").eq(0).addClass("active-thumb")
                }())
            },
            stickyDetails: function() {
                function e() {
                    d = $(window).height(), c.each(function() {
                        s = $(this).offset().top, f > s - d + 20 && (console.log(s), $(this).addClass("animate-images"))
                    })
                }

                function t() {
                    f = $(window).scrollTop(), b = f + p + m, r = i.width(), v = i.offset().left + 15, g = l.offset().top, w = g + u, r > h && (v += o = (r - h) / 2), f + p >= g ? (i.addClass("block-sticked"), n.css({
                        top: p,
                        left: v,
                        width: r,
                        position: "fixed",
                        transform: "translateY(-20px)"
                    })) : (i.removeClass("block-sticked"), n.css({
                        top: "auto",
                        left: "auto",
                        width: "auto",
                        position: "relative",
                        transform: "translateY(0px)"
                    })), b > w ? i.addClass("hide-temporary") : i.removeClass("hide-temporary")
                }

                function a() {
                    d = $(window).height(), m = i.outerHeight(), u = l.outerHeight(), m < d - p ? i.addClass("in-viewport").removeClass("not-in-viewport") : i.removeClass("in-viewport").addClass("not-in-viewport"), t(), e()
                }
                if ($("body").hasClass("basel-product-design-sticky")) {
                    var s, o, i = $(".entry-summary"),
                        n = i.find(".summary-inner"),
                        r = i.width(),
                        l = $(".product-images"),
                        c = l.find(".shopify-product-gallery__wrapper a"),
                        d = $(window).height(),
                        u = l.outerHeight(),
                        p = 130,
                        h = 600,
                        m = i.outerHeight(),
                        f = $(window).scrollTop(),
                        g = l.offset().top,
                        v = i.offset().left + 15,
                        w = g + u,
                        b = f + p + m;
                    i.css({
                        height: m
                    }), $(window).resize(function() {
                        a()
                    }), $(window).scroll(function() {
                        console.log("111"), t(), e()
                    }), l.imagesLoaded(function() {
                        a()
                    })
                }
            },
            mfpPopup: function() {
                $(".gallery").magnificPopup({
                    delegate: " > a",
                    type: "image",
                    image: {
                        verticalFit: !0
                    },
                    gallery: {
                        enabled: !0,
                        navigateByImgClick: !0
                    }
                }), $('[data-rel="mfp"]').magnificPopup({
                    type: "image",
                    image: {
                        verticalFit: !0
                    },
                    gallery: {
                        enabled: !1,
                        navigateByImgClick: !1
                    }
                }), $('[data-rel="mfp[projects-gallery]"]').magnificPopup({
                    type: "image",
                    image: {
                        verticalFit: !0
                    },
                    gallery: {
                        enabled: !0,
                        navigateByImgClick: !1
                    }
                }), $(".jas-magnific-image").length > 0 && $(".jas-magnific-image").magnificPopup({
                    type: "image",
                    tLoading: '<div class="loader"><div class="loader-inner"></div></div>',
                    removalDelay: 500,
                    callbacks: {
                        beforeOpen: function() {
                            this.st.image.markup = this.st.image.markup.replace("mfp-figure", "mfp-figure mfp-with-anim"), this.st.mainClass = this.st.el.attr("data-effect")
                        }
                    }
                }), $(document).on("click", ".mfp-img", function() {
                    var e = jQuery.magnificPopup.instance;
                    e.st.image.verticalFit = !e.st.image.verticalFit, e.currItem.img.removeAttr("style"), e.updateSize()
                })
            },
            addToCart: function() {
                var e = 0;
                if ("popup" == theme.add_to_cart_action) {
                    var t = ['<div class="added-to-cart">', "<p>" + theme.strings.added_to_cart + "</p>", '<a href="#" class="btn btn-style-link close-popup">' + theme.strings.continue_shopping + "</a>", '<a href="/cart" class="btn btn-color-primary view-cart">' + theme.strings.view_cart + "</a>", "</div>"].join("");
                    $.magnificPopup.open({
                        callbacks: {
                            beforeOpen: function() {
                                this.st.mainClass = baselTheme.popupEffect + "  cart-popup-wrapper"
                            }
                        },
                        items: {
                            src: '<div class="white-popup add-to-cart-popup popup-added_to_cart">' + t + "</div>",
                            type: "inline"
                        }
                    }), $(".white-popup").on("click", ".close-popup", function(e) {
                        e.preventDefault(), $.magnificPopup.close()
                    })
                } else "widget" == theme.add_to_cart_action && (clearTimeout(e), $(".cart-widget-opener a").length > 0 ? ($("body").hasClass("open_gl_quick_view") && $.magnificPopup.close(), $(".cart-widget-opener a").trigger("click")) : $(".shopping-cart a").length > 0 ? ($(".shopping-cart .dropdown-wrap-cat").addClass("display-widget"), console.log("aa"), $("body").hasClass("open_gl_quick_view") && $.magnificPopup.close(), $(window).scrollTop() > 100 && 0 == $("body").hasClass("enable-sticky-header") && $("html, body").animate({
                    scrollTop: 0
                }, 1e3), e = setTimeout(function() {
                    $(".display-widget").removeClass("display-widget")
                }, 3500)) : (console.log("bb"), $(".main-header .dropdown-wrap-cat").addClass("display-widget"), $("body").hasClass("open_gl_quick_view") && $.magnificPopup.close(), $(window).scrollTop() > 100 && 0 == $("body").hasClass("enable-sticky-header") && $("html, body").animate({
                    scrollTop: 0
                }, 1e3), e = setTimeout(function() {
                    $(".display-widget").removeClass("display-widget")
                }, 3500)));
                $("body").hasClass("open_gl_quick_view") && $("body").removeClass("open_gl_quick_view")
            },
            loginWishlist: function() {
                "no" != theme.basel_settings.wishlist && $("body").on("click", ".nitro_wishlist_login", function(e) {
                    e.preventDefault();
                    var t = $(this);
                    t.parent().addClass("feid-in");
                    var a = ['<div class="added-to-cart">', "<p>" + theme.strings.info_wishlist + "</p>", '<a href="#" class="btn btn-style-link close-popup">' + theme.strings.continue_shopping + "</a>", '<a href="/account/login" class="btn btn-color-primary view-cart">' + theme.strings.login + "</a>", "</div>"].join("");
                    $.magnificPopup.open({
                        callbacks: {
                            beforeOpen: function() {
                                this.st.mainClass = baselTheme.popupEffect + "  cart-popup-wrapper"
                            },
                            close: function() {
                                t.parent().removeClass("feid-in")
                            }
                        },
                        items: {
                            src: '<div id="login-wishlist" class="gl_login-wishlist white-popup add-to-cart-popup popup-added_to_cart">' + a + "</div>",
                            type: "inline"
                        }
                    }), $(".gl_login-wishlist").on("click", ".close-popup", function(e) {
                        e.preventDefault(), $.magnificPopup.close()
                    })
                })
            },
            wishList: function() {
                "no" != theme.basel_settings.wishlist && $("body").on("click", ".gl_add_wishlist > a", function(e) {
                    e.preventDefault();
                    var t = $(this),
                        a = t.closest(".yith-wcwl-add-to-wishlist"),
                        s = a.find(".gl_add_wishlist"),
                        o = a.find(".gl_adding_wishlist"),
                        i = a.find(".gl_addedbrowse_wishlist");
                    s.hide(), o.show(), $.ajax({
                        url: "/apps/nitro-wishlist",
                        type: "GET",
                        data: t.data(),
                        success: function(e, t) {
                            try {
                                e = $.parseJSON(e)
                            } catch (e) {}
                            "success" == e.status && "success" == t ? (i.show(), o.hide(), s.hide(), $(".gl_count_wishlist").html(function(e, t) {
                                return 1 * t + 1
                            })) : (o.hide(), s.show(), console.log("Error: " + e.message))
                        },
                        error: function(e) {
                            o.hide(), s.show(), 404 == e.status ? alert("This feature is not available because there is no  Nitro Wishlist app installed. Please install Nitro Wishlist app first  when using Wishlist in Shop.") : console.log("Error: " + e.message)
                        }
                    })
                })
            },
            removeWishlist: function() {
                "no" != theme.basel_settings.wishlist && $("body").on("click", ".remove_from_wishlist", function(e) {
                    e.preventDefault();
                    var t = $(this),
                        a = $(this).data("id");
                    $.ajax({
                        url: "/apps/nitro-wishlist",
                        type: "GET",
                        data: t.data(),
                        beforeSend: function(e) {
                            $.blockUI({
                                message: null,
                                css: {
                                    backgroundColor: "#fff",
                                    opacity: .6
                                }
                            })
                        },
                        success: function(e, t) {
                            try {
                                e = $.parseJSON(e)
                            } catch (e) {}
                            "success" == e.status && "success" == t ? ($(".gl_count_wishlist").html(function(e, t) {
                                return 1 * t - 1
                            }), $("#yith-wcwl-row-" + a).remove(), $(".wishlist_table > tbody > tr").length < 1 && ($(".wishlist_table tbody").empty(), $(".wishlist_table tbody").append('<tr><td colspan="6" class="wishlist-empty">' + theme.strings.nowishlist + "</td>"))) : console.log("Error: " + e.message)
                        },
                        error: function(e) {
                            $(".loader").remove(), console.log("Error: " + e.message)
                        },
                        complete: function() {
                            setTimeout(function() {
                                $.unblockUI()
                            }, 200)
                        }
                    })
                })
            },
            cartWidget: function() {
                var e = $(".cart-widget-opener"),
                    t = (e.find("a"), $("body"));
                e.on("click", "a", function(e) {
                    e.preventDefault(), o() ? a() : setTimeout(function() {
                        s()
                    }, 10)
                }), t.on("click touchstart", ".basel-close-side", function() {
                    o() && a()
                }), t.on("click", ".widget-close", function(e) {
                    e.preventDefault(), o() && a()
                });
                var a = function() {
                        $(".website-wrapper").removeClass("basel-wrapper-shifted"), $("body").removeClass("basel-cart-opened")
                    },
                    s = function() {
                        $(".website-wrapper").addClass("basel-wrapper-shifted"), $("body").addClass("basel-cart-opened")
                    },
                    o = function() {
                        return $("body").hasClass("basel-cart-opened")
                    }
            },
            bannersHover: function() {
                $(".promo-banner.hover-4").panr({
                    sensitivity: 20,
                    scale: !1,
                    scaleOnHover: !0,
                    scaleTo: 1.15,
                    scaleDuration: .34,
                    panY: !0,
                    panX: !0,
                    panDuration: .5,
                    resetPanOnMouseLeave: !0
                })
            },
            parallax: function() {
                $(".parallax-yes").each(function() {
                    var e = $(this);
                    $(window).scroll(function() {
                        var t = "center " + -$(window).scrollTop() / e.data("speed") + "px";
                        e.css({
                            backgroundPosition: t
                        })
                    })
                }), $(".basel-parallax").each(function() {
                    var e = $(this);
                    e.hasClass("spb_column") ? e.find("> .gl_column-inner").parallax("50%", .3) : e.parallax("50%", .3)
                })
            },
            fullWidthRow: function() {
                var e = $('[data-sp-full-width="true"]');
                $.each(e, function(e, t) {
                    var a = $(this);
                    a.addClass("sp_hidden");
                    var s = a.next(".sp_row-full-width");
                    if (s.length || (s = a.parent().next(".sp_row-full-width")), s.length) {
                        var o = parseInt(a.css("margin-left"), 10),
                            i = parseInt(a.css("margin-right"), 10),
                            n = 0 - s.offset().left - o,
                            r = $(window).width();
                        if (a.css({
                                position: "relative",
                                left: n,
                                "box-sizing": "border-box",
                                width: $(window).width()
                            }), !a.data("spStretchContent")) {
                            var l = -1 * n;
                            0 > l && (l = 0);
                            var c = r - l - s.width() + o + i;
                            0 > c && (c = 0), a.css({
                                "padding-left": l + "px",
                                "padding-right": c + "px"
                            })
                        }
                        a.attr("data-sp-full-width-init", "true"), a.removeClass("sp_hidden"), $(document).trigger("sp-full-width-row-single", {
                            el: a,
                            offset: n,
                            marginLeft: o,
                            marginRight: i,
                            elFull: s,
                            width: r
                        })
                    }
                }), $(document).trigger("sp-full-width-row", e)
            },
            scrollTop: function() {
                $(window).scroll(function() {
                    $(this).scrollTop() > 100 ? $(".scrollToTop").addClass("button-show") : $(".scrollToTop").removeClass("button-show")
                }), $(".scrollToTop").click(function() {
                    return $("html, body").animate({
                        scrollTop: 0
                    }, 800), !1
                })
            },
            quickViewInit: function() {
                var e = this;
                $(document).on("click", ".open-quick-view", function(t) {
                    t.preventDefault();
                    var a = $(this).attr("href"),
                        s = $(this);
                    s.addClass("loading"), $("body").addClass("open_gl_quick_view"), e.quickViewLoad(a, s)
                })
            },
            quickViewLoad: function(e, t) {
                $.ajax({
                    url: e,
                    dataType: "html",
                    type: "GET",
                    success: function(e) {
                        $.magnificPopup.open({
                            items: {
                                src: '<div class="mfp-with-anim white-popup popup-quick-view" id="content_quickview">' + e + "</div>",
                                type: "inline"
                            },
                            removalDelay: 500,
                            callbacks: {
                                beforeOpen: function() {
                                    this.st.mainClass = baselTheme.popupEffect
                                },
                                open: function() {
                                    if (baselThemeModule.countDownTimer(), baselThemeModule.gl_currency(), baselThemeModule.autoloadCompare(), setTimeout(function() {
                                            baselThemeModule.nanoScroller()
                                        }, 300), $(".shopify-product-reviews-badge").length > 0) return window.SPR.registerCallbacks(), window.SPR.initRatingHandler(), window.SPR.initDomEls(), window.SPR.loadProducts(), window.SPR.loadBadges()
                                },
                                close: function() {
                                    $("#content_quickview").empty()
                                }
                            }
                        })
                    },
                    complete: function() {
                        t.removeClass("loading")
                    },
                    error: function() {
                        console.log("Quick view error")
                    }
                })
            },
            quickShop: function() {
                $(document).on("click", ".btn-quick-shop", function(e) {
                    e.preventDefault();
                    var t = $(this),
                        a = t.parents(".product"),
                        s = a.find(".quick-shop-form"),
                        o = $(this).attr("href");
                    t.hasClass("btn-loading") || (a.hasClass("quick-shop-loaded") ? a.addClass("quick-shop-shown") : (t.addClass("btn-loading"), a.addClass("loading-quick-shop"), $.ajax({
                        url: o,
                        dataType: "html",
                        type: "GET",
                        success: function(e) {
                            s.append(e), "yes" == theme.basel_settings.enable_variant_simple && baselThemeModule.simpleDropdown(), baselThemeModule.gl_currency()
                        },
                        complete: function() {
                            t.removeClass("btn-loading"), a.removeClass("loading-quick-shop"), a.addClass("quick-shop-shown quick-shop-loaded")
                        },
                        error: function() {
                            console.log("Quick Shop error")
                        }
                    })))
                }).on("click", ".quick-shop-close", function() {
                    var e = $(this).parents(".product"),
                        t = e.find(".quick-shop-form");
                    e.removeClass("quick-shop-shown quick-shop-loaded"), t.html("")
                })
            },
            stickyFooter: function() {
                if ($("body").hasClass("sticky-footer-on") && !($(window).width() < 991)) {
                    var e, t, a, s = $(".footer-container"),
                        o = s.find(".main-footer, .copyrights-wrapper .container"),
                        i = s.outerHeight(),
                        n = $(".main-page-wrapper"),
                        r = $(document),
                        l = $(window),
                        c = r.outerHeight(),
                        d = l.outerHeight(),
                        u = function() {
                            n.css({
                                marginBottom: s.outerHeight()
                            })
                        };
                    l.on("resize", u), l.on("scroll", function() {
                        e = r.scrollTop(), c = r.outerHeight(), d = l.outerHeight(), t = c - (e + d), i = s.outerHeight(), a = parseFloat(t / i).toFixed(5), s.removeClass("footer-act-sticky"), t > i || (o.css({
                            opacity: 1 - a
                        }), s.addClass("footer-act-sticky"))
                    }), s.imagesLoaded(function() {
                        u()
                    })
                }
            },
            swatchesOnGrid: function() {
                $("body").on("click", ".swatch-on-grid:not(.current-swatch)", function() {
                    var e, t, a, s = $(this).data("image-src"),
                        o = $(this).data("image-srcset"),
                        i = $(this).data("image-sizes");
                    if (void 0 !== s) {
                        var n = $(this).parents(".product-grid-item"),
                            r = n.find("img").first(),
                            l = r.data("original-src"),
                            c = r.data("original-srcset"),
                            d = r.data("original-sizes");
                        void 0 === l && r.data("original-src", r.attr("src")), void 0 === c && r.data("original-srcset", r.attr("srcset")), void 0 === d && r.data("original-sizes", r.attr("sizes")), $(this).hasClass("current-swatch") ? (e = l, t = c, a = d, $(this).removeClass("current-swatch"), n.removeClass("product-swatched")) : ($(this).parent().find(".current-swatch").removeClass("current-swatch"), $(this).addClass("current-swatch"), n.addClass("product-swatched"), e = s, t = o, a = i), r.attr("src") != e && (n.addClass("loading-image"), r.attr("src", e).attr("srcset", t).attr("sizes", a).one("load", function() {
                            n.removeClass("loading-image")
                        }))
                    }
                })
            },
            ajaxFilters: function() {
                if ($("body").hasClass("basel-ajax-shop-on")) {
                    var e = this;
                    $(".products");
                    $("body").on("click", ".shopify-pagination a", function(e) {
                        t()
                    }), $(document).pjax(baselTheme.ajaxLinks, ".main-page-wrapper", {
                        timeout: 5e3,
                        fragment: ".main-page-wrapper",
                        scrollTo: !1
                    }), $(document).on("change", "select.orderby", function() {
                        $(".shopify-ordering");
                        var e = $(this).find(":selected").data("value");
                        $.pjax({
                            container: ".main-page-wrapper",
                            timeout: 4e3,
                            url: e,
                            fragment: ".main-page-wrapper",
                            scrollTo: !1
                        })
                    }), $(document).on("pjax:error", function(e, t, a, s) {
                        console.log("pjax error " + a)
                    }), $(document).on("pjax:start", function(e, t) {
                        $("body").addClass("basel-loading")
                    }), $(document).on("pjax:complete", function(a, s, o) {
                        $("#shopify-section-promo_banner_collection .promo-banner").length > 0 && e.bannersHover(), e.gl_currency(), e.countDownTimer(), e.shopPageInit(), t(), e.gl_productreviews(), $("body").removeClass("basel-loading")
                    }), $(document).on("pjax:end", function(e, t, a) {
                        $("body").removeClass("basel-loading")
                    });
                    var t = function() {
                        var e = $(".main-page-wrapper").offset().top - 100;
                        $("html, body").stop().animate({
                            scrollTop: e
                        }, 400)
                    }
                }
            },
            shopPageInit: function() {
                this.shopMasonry(), this.categorysearch(), this.ajaxSearch(), this.compare(), this.autoloadCompare(), this.categoriesMenuBtns(), this.categoriesAccordion(), this.nanoScroller(), baselThemeModule.clickOnScrollButton(baselTheme.shopLoadMoreBtn, !1)
            },
            backHistory: function() {
                history.go(-1), setTimeout(function() {
                    $(".filters-area").removeClass("filters-opened").stop().hide(), $(".open-filters").removeClass("btn-opened"), $(window).width() < 992 && ($(".basel-product-categories").removeClass("categories-opened").stop().hide(), $(".basel-show-categories").removeClass("button-open"))
                }, 20)
            },
            categoriesMenu: function() {
                if (!($(window).width() > 991)) {
                    var e = $(".basel-product-categories");
                    e.find("li > ul"), $(".basel-show-categories");
                    $("body").on("click", ".icon-drop-category", function() {
                        $(this).parent().find("> ul").hasClass("child-open") ? $(this).removeClass("basel-act-icon").parent().find("> ul").slideUp(200).removeClass("child-open") : $(this).addClass("basel-act-icon").parent().find("> ul").slideDown(200).addClass("child-open")
                    }), $("body").on("click", ".basel-show-categories", function(e) {
                        e.preventDefault(), console.log("close click"), t() ? s() : a()
                    }), $("body").on("click", ".basel-product-categories a", function(t) {
                        s(), e.stop().attr("style", "")
                    });
                    var t = function() {
                            return $(".basel-product-categories").hasClass("categories-opened")
                        },
                        a = function() {
                            $(".basel-product-categories").addClass("categories-opened").stop().slideDown(200), $(".basel-show-categories").addClass("button-open")
                        },
                        s = function() {
                            $(".basel-product-categories").removeClass("categories-opened").stop().slideUp(200), $(".basel-show-categories").removeClass("button-open")
                        }
                }
            },
            categoriesMenuBtns: function() {
                if (!($(window).width() > 991)) {
                    var e = $(".basel-product-categories"),
                        t = e.find("li > ul");
                    e.addClass("responsive-cateogires"), t.parent().addClass("has-sub").prepend('<span class="icon-drop-category"></span>')
                }
            },
            categoriesAccordion: function() {
                if ("no" != theme.categories_toggle) {
                    var e = $(".widget_product_categories").find(".product-categories"),
                        t = $('<div class="basel-cats-toggle" />');
                    e.find(".cat-parent").append(t), e.on("click", ".basel-cats-toggle", function() {
                        var e = $(this),
                            t = e.prev();
                        t.hasClass("list-shown") ? (e.removeClass("toggle-active"), t.stop().slideUp(300).removeClass("list-shown")) : (t.parent().parent().find("> li > .list-shown").slideUp().removeClass("list-shown"), t.parent().parent().find("> li > .toggle-active").removeClass("toggle-active"), e.addClass("toggle-active"), t.stop().slideDown(300).addClass("list-shown"))
                    }), e.find(" > li.current-cat.cat-parent, > li.current-cat-parent").length > 0 && e.find(" > li.current-cat.cat-parent, > li.current-cat-parent").find("> .basel-cats-toggle").click()
                }
            },
            filtersArea: function() {
                var e = $(".filters-area");
                $(".open-filters");
                $("body").on("click", ".open-filters", function(e) {
                    e.preventDefault(), t() ? a() : s()
                }), $("body").on("click", baselTheme.ajaxLinks, function() {
                    t() && a()
                });
                var t = function() {
                        return (e = $(".filters-area")).hasClass("filters-opened")
                    },
                    a = function() {
                        (e = $(".filters-area")).removeClass("filters-opened"), e.stop().slideUp(200), $(".open-filters").removeClass("btn-opened")
                    },
                    s = function() {
                        (e = $(".filters-area")).addClass("filters-opened"), e.stop().slideDown(200), $(".open-filters").addClass("btn-opened"), setTimeout(function() {
                            baselThemeModule.nanoScroller()
                        }, 200)
                    }
            },
            ajaxSearch: function() {
                if ("no" != theme.basel_settings.ajax_search && "yes" != theme.basel_settings.header_search_category) {
                    var e = null;
                    $("form.basel-ajax-search").each(function() {
                        $(this).find('input[name="q"]').attr("autocomplete", "off").bind("keyup change", function() {
                            var t = $(this).val(),
                                a = $(this).closest("form");
                            if ("" == t.trim()) $(".autocomplete-suggestions").hide();
                            else {
                                if ("yes" == theme.basel_settings.ajax_search_product) s = "/search?type=product&q=" + t;
                                else var s = "/search?q=" + t;
                                a.addClass("search-loading"), null != e && e.abort(), e = jQuery.get(s + "&view=json", function(e) {
                                    $(".autocomplete-suggestions").html(e), setTimeout(function() {
                                        a.removeClass("search-loading")
                                    }, 300)
                                }), $(".autocomplete-suggestions").show(500)
                            }
                        })
                    }), $("body").bind("click", function() {
                        $(".autocomplete-suggestions").hide(), $("form#searchform").removeClass("search-loading")
                    })
                }
            },
            categorysearch: function() {
                if ("no" != theme.basel_settings.header_search_category) {
                    var e = null,
                        t = $("form.has-categories-dropdown"),
                        a = t.find('input[name="q"]');
                    t.find("input.gl_enter_key").attr("autocomplete", "off").bind("keyup change", function() {
                        var s = $(this).val();
                        a.val(s);
                        var o = a.val(),
                            i = null,
                            n = t.find(".input-dropdown-inner > input").val();
                        0 != n && "yes" == theme.basel_settings.enable_search_category ? (i = o + "+" + n, a.val(i)) : i = o;
                        var r = "/search?type=product&q=" + i;
                        "" == i.trim() ? $(".autocomplete-suggestions").hide() : (t.addClass("search-loading"), null != e && e.abort(), e = jQuery.get(r + "&view=json", function(e) {
                            $(".autocomplete-suggestions").html(e), setTimeout(function() {
                                t.removeClass("search-loading")
                            }, 300)
                        }), $(".autocomplete-suggestions").show(500))
                    }), $("body").bind("click", function() {
                        $(".autocomplete-suggestions").hide(), $("form#searchform").removeClass("search-loading")
                    })
                }
            },
            searchFullScreen: function() {
                var e = $("body"),
                    t = $(".basel-search-wrapper");
                if (t.find(".searchform").hasClass("basel-ajax-search") || !$(".search-button").hasClass("basel-search-dropdown")) {
                    e.on("click", ".search-button > a", function(e) {
                        e.preventDefault(), t = $($(".sticky-header.act-scroll").length > 0 ? ".sticky-header .basel-search-wrapper" : ".main-header .basel-search-wrapper"), o() ? a() : setTimeout(function() {
                            s()
                        }, 10)
                    }), e.on("click", ".basel-close-search, .main-header, .sticky-header, .topbar-wrapp, .main-page-wrapper", function(e) {
                        !$(e.target).is(".basel-close-search") && $(e.target).closest(".basel-search-wrapper").length || o() && a()
                    });
                    var a = function() {
                            $("body").removeClass("basel-search-opened"), t.removeClass("search-overlap")
                        },
                        s = function() {
                            var e = $("#wpadminbar").outerHeight(),
                                s = $(".main-header").outerHeight() + e;
                            $(".main-header").hasClass("act-scroll") || (s += $(".topbar-wrapp").outerHeight()), $(".sticky-header").hasClass("header-clone") && $(".sticky-header").hasClass("act-scroll") && (s = $(".sticky-header").outerHeight() + e), $(".main-header").hasClass("header-menu-top") && $(".header-spacing") && (s = $(".header-spacing").outerHeight() + e), t.css("top", s), $("body").addClass("basel-search-opened"), t.addClass("search-overlap"), setTimeout(function() {
                                t.find('input[type="text"]').focus(), $(window).one("scroll", function() {
                                    o() && a()
                                })
                            }, 300)
                        },
                        o = function() {
                            return $("body").hasClass("basel-search-opened")
                        }
                }
            },
            loginTabs: function() {
                var e = $(".basel-register-tabs"),
                    t = e.find(".basel-switch-to-register"),
                    a = (e.find(".col-login"), e.find(".col-register"), t.data("login")),
                    s = t.data("register");
                t.click(function(t) {
                    t.preventDefault(), n() ? i() : o();
                    $(".main-page-wrapper").offset().top;
                    $(window).width() < 768 && $("html, body").stop().animate({
                        scrollTop: e.offset().top - 50
                    }, 400)
                });
                var o = function() {
                        e.addClass("active-register"), t.text(a)
                    },
                    i = function() {
                        e.removeClass("active-register"), t.text(s)
                    },
                    n = function() {
                        return e.hasClass("active-register")
                    }
            },
            productAccordion: function() {
                var e = $(".tabs-layout-accordion"),
                    t = window.location.hash,
                    a = window.location.href;
                t.toLowerCase().indexOf("comment-") >= 0 || "#reviews" === t || "#tab-reviews" === t ? e.find(".tab-title-reviews").addClass("active") : a.indexOf("comment-page-") > 0 || a.indexOf("cpage=") > 0 ? e.find(".tab-title-reviews").addClass("active") : e.find(".basel-accordion-title").first().addClass("active"), e.on("click", ".basel-accordion-title", function(t) {
                    t.preventDefault();
                    var a = $(this),
                        s = a.siblings(".shopify-Tabs-panel");
                    a.hasClass("active") ? (a.removeClass("active"), s.stop().slideUp(300)) : (e.find(".basel-accordion-title").removeClass("active"), e.find(".shopify-Tabs-panel").slideUp(), a.addClass("active"), s.stop().slideDown(300)), $(window).resize(), setTimeout(function() {
                        $(window).resize()
                    }, 300)
                })
            },
            productCompact: function() {
                $(".product-design-compact .basel-scroll").nanoScroller({
                    paneClass: "basel-scroll-pane",
                    sliderClass: "basel-scroll-slider",
                    contentClass: "basel-scroll-content",
                    preventPageScrolling: !1
                })
            },
            countDownTimer: function() {
                $(".basel-timer").each(function() {
                    $(this).countdown($(this).data("end-date"), function(e) {
                        $(this).html(e.strftime('<span class="countdown-days">%-D <span>' + theme.basel_settings.countdown_days + '</span></span> <span class="countdown-hours">%H <span>' + theme.basel_settings.countdown_hours + '</span></span> <span class="countdown-min">%M <span>' + theme.basel_settings.countdown_mins + '</span></span> <span class="countdown-sec">%S <span>' + theme.basel_settings.countdown_sec + "</span></span>"))
                    })
                })
            },
            mobileFastclick: function() {
                "addEventListener" in document && document.addEventListener("DOMContentLoaded", function() {
                    FastClick.attach(document.body)
                }, !1)
            },
            nanoScroller: function() {
                $(".basel-scroll").nanoScroller({
                    paneClass: "basel-scroll-pane",
                    sliderClass: "basel-scroll-slider",
                    contentClass: "basel-scroll-content",
                    preventPageScrolling: !1
                })
            },
            RTL: function() {
                $("body").hasClass("rtl") && $(document).on("gl-full-width-row", function(e, t) {
                    $('[data-gl-full-width="true"]').each(function() {
                        var e = $(this),
                            t = parseInt(e.css("left"), 10);
                        if (e.css({
                                left: -t
                            }), $(".main-header").hasClass("header-vertical")) {
                            var a = e.css("padding-left"),
                                s = e.css("padding-right");
                            e.css({
                                paddingLeft: s,
                                paddingRight: a
                            })
                        }
                    })
                })
            },
            autoloadCompare: function() {
                if ("no" != theme.basel_settings.compare) {
                    var e = Currency.cookie.tearead("tea-compare");
                    null != e ? (e = e.split(",")).map(function(e, t) {
                        $('[data-pid="' + e + '"]').addClass("added").html('<span class="basel-tooltip-label">' + theme.strings.added_label + "</span>" + theme.strings.added_label)
                    }) : e = new Array
                }
            },
            gl_currency: function() {
                "undefined" != Currency.cookie.read() && Currency.cookie.read() === theme.shop_currency || $(".currency .active").trigger("click")
            },
            gl_productreviews: function() {
                $(".spr-badge").length > 0 && $.getScript(window.location.protocol + "//productreviews.shopifycdn.com/assets/v4/spr.js")
            },
            gl_save_note: function() {
                "yes" == theme.basel_settings.save_note && $(document.body).on("change", "#CartSpecialInstructions", function() {
                    var e = $(this).val(),
                        t = $(".widget_shopping_cart"),
                        a = $(".checkout");
                    t.addClass("removing-process"), a.attr("disabled", "disabled").css("pointer-events", "none"), $.ajax({
                        type: "POST",
                        url: "/cart/update.js",
                        data: "note=" + baselThemeModule.attributeToString(e),
                        dataType: "json",
                        success: function(e) {},
                        error: function(e, t) {
                            baselThemeModule.onError(e, t)
                        },
                        complete: function() {
                            t.removeClass("removing-process"), a.removeAttr("disabled").css("pointer-events", "auto")
                        }
                    })
                })
            },
            attributeToString: function(e) {
                return "string" != typeof e && "undefined" === (e += "") && (e = ""), jQuery.trim(e)
            },
            onError: function(XMLHttpRequest, textStatus) {
                var data = eval("(" + XMLHttpRequest.responseText + ")");
                alert(data.message + "(" + data.status + "): " + data.description)
            },
            AJAXFormAddToCart: function() {
                $(document).on("click", ".ajax_form_cart", function(e) {
                    e.preventDefault();
                    var t = $(this);
                    $(this).attr("disabled", "disabled").css("pointer-events", "none").addClass("loading"), $.ajax({
                        type: "POST",
                        url: "/cart/add.js",
                        data: t.closest("form").serialize(),
                        dataType: "json",
                        success: function(e) {
                            $.get("/cart?view=json", function(e) {
                                $(".widget_shopping_cart_content").html(e)
                            }), $.getJSON("/cart.js", function(e) {
                                $(".cartCount").html(e.item_count), $(".basel-cart-subtotal >span").html(Shopify.formatMoney(e.total_price, theme.moneyFormat))
                            }), baselThemeModule.gl_currency(), baselThemeModule.addToCart()
                        },
                        error: function(e, t) {
                            baselThemeModule.onError(e, t)
                        },
                        complete: function() {
                            t.removeAttr("disabled").css("pointer-events", "auto").removeClass("loading")
                        }
                    })
                })
            },
            AJAXAddToCart: function() {
                $(document).on("click", ".ajax_add_to_cart", function(e) {
                    e.preventDefault();
                    var t = $(this),
                        a = t.data("pid");
                    $(this).attr("disabled", "disabled").css("pointer-events", "none").addClass("loading"), $.ajax({
                        type: "POST",
                        url: "/cart/add.js",
                        data: {
                            quantity: 1,
                            id: a
                        },
                        dataType: "json",
                        success: function(e) {
                            $.get("/cart?view=json", function(e) {
                                $(".widget_shopping_cart_content").html(e)
                            }), $.getJSON("/cart.js", function(e) {
                                $(".cartCount").html(e.item_count), $(".basel-cart-subtotal >span").html(Shopify.formatMoney(e.total_price, theme.moneyFormat))
                            }), baselThemeModule.gl_currency(), !1 === t.hasClass("add_compare") && baselThemeModule.addToCart(), t.removeAttr("disabled").css("pointer-events", "auto").removeClass("ajax_add_to_cart loading").addClass("added_to_cart").text(theme.strings.view_cart).attr({
                                href: "/cart"
                            })
                        },
                        error: function(e, a) {
                            t.removeAttr("disabled").css("pointer-events", "auto").removeClass("loading"), baselThemeModule.onError(e, a)
                        }
                    })
                })
            },
            AJAXRemoveFromCart: function() {
                $(document).on("click", ".widget_shopping_cart .remove", function(e) {
                    e.preventDefault();
                    var t = $(this),
                        a = $(".widget_shopping_cart"),
                        s = (t.data("remove_item"), t.data("product_id"));
                    a.addClass("removing-process"), $.ajax({
                        type: "POST",
                        url: "/cart/change.js",
                        data: "quantity=0&id=" + s,
                        dataType: "json",
                        success: function(e) {
                            $.get("/cart?view=json", function(e) {
                                $(".widget_shopping_cart_content").html(e)
                            }), $.getJSON("/cart.js", function(e) {
                                $(".cartCount").html(e.item_count), $(".basel-cart-subtotal >span").html(Shopify.formatMoney(e.total_price, theme.moneyFormat))
                            }), baselThemeModule.gl_currency()
                        },
                        error: function() {
                            baselThemeModule.onError(XMLHttpRequest, textStatus)
                        },
                        complete: function() {
                            a.removeClass("removing-process")
                        }
                    })
                })
            },
            shopifyQuantity: function() {
                String.prototype.getDecimals || (String.prototype.getDecimals = function() {
                    var e = ("" + this).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);
                    return e ? Math.max(0, (e[1] ? e[1].length : 0) - (e[2] ? +e[2] : 0)) : 0
                }), $(document).on("click", ".plus, .minus", function() {
                    console.log(1);
                    var e = $(this).closest(".quantity").find(".qty"),
                        t = parseFloat(e.val()),
                        a = parseFloat(e.attr("max")),
                        s = parseFloat(e.attr("min")),
                        o = e.attr("step");
                    t && "" !== t && "NaN" !== t || (t = 0), "" !== a && "NaN" !== a || (a = ""), "" !== s && "NaN" !== s || (s = 0), "any" !== o && "" !== o && void 0 !== o && "NaN" !== parseFloat(o) || (o = 1), $(this).is(".plus") ? a && t >= a ? e.val(a) : e.val((t + parseFloat(o)).toFixed(o.getDecimals())) : s && t <= s ? e.val(s) : t > 0 && e.val((t - parseFloat(o)).toFixed(o.getDecimals())), e.trigger("change")
                })
            }
        }
    }()
}(jQuery), jQuery(document).ready(function() {
    baselThemeModule.init()
});